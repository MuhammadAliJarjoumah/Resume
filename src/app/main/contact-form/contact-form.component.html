<form [formGroup]="contactForm" (ngSubmit)="onSubmit()">
    <div class="name-email">
        <div>
            <label for="name">Name:</label>
            <input type="text" id="name" formControlName="name" required>
            @if(contactForm.get('name')?.invalid && (contactForm.get('name')?.dirty ||
            contactForm.get('name')?.touched)) {
            @if (contactForm.get('name')?.errors?.['required']){
            <span class="validation-message">
                Name is required
            </span>
            }
            }
        </div>
        <div>
            <label for="email">Email:</label>
            <input type="email" id="email" formControlName="email" required email>
            @if (contactForm.get('email')?.invalid && (contactForm.get('email')?.dirty ||
            contactForm.get('email')?.touched)){
            @if (contactForm.get('email')?.errors?.['required']){
            <span class="validation-message">
                Email is required
            </span>
            }
            @if (contactForm.get('email')?.errors?.['email']){
            <span class="validation-message">
                Email is invalid
            </span>
            }
            }
        </div>
    </div>
    <div class="message-container">
        <label for="message">Message:</label>
        <textarea id="message" formControlName="message" required></textarea>
        @if (contactForm.get('message')?.invalid && (contactForm.get('message')?.dirty ||
        contactForm.get('message')?.touched)){
        @if(contactForm.get('message')?.errors?.['required']){
        <span class="validation-message">
            Message is required
        </span>
        }
        }
    </div>
    <div>
        <button mat-raised-button type="submit" [disabled]="contactForm.invalid">Submit</button>
        @if (successMessage) {
        <div>
            {{successMessage}}
        </div>
        }
        @if(errorMessage){
        <div>{{ errorMessage }}</div>
        }
    </div>

</form>